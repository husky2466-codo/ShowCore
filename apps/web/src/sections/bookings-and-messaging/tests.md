# Bookings & Messaging Tests

Framework-agnostic test specifications. Adapt to your testing setup.

---

## Booking List Tests

### Display
- Upcoming bookings show first
- Past bookings accessible via tab
- Status badges display correctly
- Booking cards show key info

### Filters
- Filter by status works
- Filter by date range works
- Search by title/technician works
- Clear filters works

### Pagination
- Initial load shows correct count
- Load more/pagination works
- Empty state when no bookings

---

## Create Booking Tests

### Form
- Technician selection works
- Date picker prevents past dates
- Time selection works
- Location input validates
- Hours input accepts positive numbers
- Description is optional

### Validation
- Required fields show errors
- Invalid date shows error
- Submit disabled until valid

### Submission
- Success shows confirmation
- Error shows retry option
- Redirect to booking detail after success

---

## Booking Detail Tests

### Display
- All booking info displays
- Status badge shows current state
- Technician/company info shows
- Event details display
- Total amount calculated correctly

### Actions (Technician)
- Accept button works for PENDING
- Decline button works for PENDING
- Cancel button works for ACCEPTED

### Actions (Company)
- Cancel button works before completion
- Complete button works for ACCEPTED/IN_PROGRESS
- Dispute button works after issues

### State Transitions
- PENDING → ACCEPTED works
- PENDING → CANCELLED works
- ACCEPTED → COMPLETED works
- ACCEPTED → DISPUTED works

---

## Messaging Tests

### Thread List
- Threads organized by booking
- Unread indicator shows
- Last message preview displays
- Timestamp shows correctly

### Message Display
- Messages load in order
- Sender avatar shows
- Timestamps display
- Read receipts work (if implemented)
- File attachments display

### Send Message
- Text input works
- Send button submits
- Empty message prevented
- File attachment works
- Message appears after send

### Real-time
- New messages appear without refresh
- Typing indicator shows (if implemented)
- Notification on new message

---

## Calendar View Tests

### Display
- Month view shows events
- Events show on correct dates
- Click date shows details
- Navigation between months works

### Interactions
- Click event opens detail
- Today highlighted
- Event conflicts visible

---

## Empty States

- No bookings: "No bookings yet" with CTA
- No messages: "Start a conversation" prompt
- No upcoming: "No upcoming bookings" message

---

## Error States

- Network error shows retry
- Message send failure shows retry
- Booking creation failure shows error

---

## Authorization

- Technician cannot create bookings
- Company cannot accept/decline
- Non-participants cannot view messages
- Only participants can cancel

---

*Generated by Design OS*
